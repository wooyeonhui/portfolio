!function(i){"use strict";function e(){var e=i('input[type="search"], input[type="text"], input[type="email"], textarea');e.each(function(){var e=i(this).val();i(this).focus(function(){i(this).val()===e&&i(this).val("")}),i(this).blur(function(){""===i(this).val()&&i(this).val(e)})})}function n(){var e=i(".background-image");e.each(function(){var e=i(this);if(e.attr("data-background-image")){var n=e.attr("data-background-image");e.css("background-image","url("+n+")")}})}function t(){var e=['<i class="fa fa-angle-left"></i>','<i class="fa  fa-angle-right"></i>'];if(i(".featured-slider").length>0){var n=1e4,t=i(".featured-slider");t.owlCarousel({autoPlay:n,slideSpeed:800,navigation:!0,pagination:!0,singleItem:!0,autoHeight:!0,addClassActive:!0,navigationText:e,afterMove:function(i){i.find(".timer-slider").css({"-webkit-animation":"none","-moz-animation":"none",animation:"none"}),setTimeout(function(){i.find(".timer-slider").css({"-webkit-animation":"timer "+n+"ms linear infinite","-moz-animation":"timer "+n+"ms linear infinite",animation:"timer "+n+"ms linear infinite"})},100)}}),"undefined"==typeof _disableTimeSlider&&(t.prepend('<div class="timer-slider"></div>'),i(".timer-slider").css({"-webkit-animation":"timer "+n+"ms linear infinite","-moz-animation":"timer "+n+"ms linear infinite",animation:"timer "+n+"ms linear infinite"})),i(window).on("resize",function(){setTimeout(function(){var e=i(".featured-slider").width(),n=i(".featured-slider").find(".item-content").width(),t=(e-n)/2;i(".featured-slider").find(".owl-next, .owl-prev").css("width",t)},100)}).trigger("resize")}i(".images-slider").length>0&&i(".images-slider").owlCarousel({autoPlay:!1,slideSpeed:300,navigation:!0,pagination:!0,singleItem:!0,autoHeight:!0,navigationText:e,afterInit:function(i){i.magnificPopup({delegate:"a",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"pp-gallery mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(i){return i.find("img")}}})}}),i(".widget-slider").length>0&&i(".widget-slider").owlCarousel({autoPlay:!1,slideSpeed:300,navigation:!0,pagination:!1,singleItem:!0,autoHeight:!0,navigationText:e})}function a(){if(i(".tiled-gallery").length){var e=4;i(".tiled-gallery").wrap('<div class="tiled-gallery-row"></div>'),i(".tiled-gallery").parent().css("margin",-e),i(".tiled-gallery").justifiedGallery({rowHeight:230,lastRow:"justify",margins:e,waitThumbnailsLoad:!1})}}function r(){i(".tiled-gallery").magnificPopup({delegate:"a",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"pp-gallery mfp-with-zoom mfp-img-mobile",image:{verticalFit:!0},gallery:{enabled:!0},zoom:{enabled:!0,duration:300,opener:function(i){return i.find("img")}}})}function o(){i(".toggle-social").on("click",function(){i(".page-social").fadeIn(500)}),i(".page-social-close").on("click",function(){i(".page-social").fadeOut(500)}),i(".toggle-search").on("click",function(){i(".page-search").fadeIn(500)}),i(".page-search-close").on("click",function(){i(".page-search").fadeOut(500)})}function s(){var e=0;0==i(".page-social").length&&(i(".toggle-social.item").remove(),e+=1),0==i(".page-search").length&&(i(".toggle-search.item").remove(),e+=1),2==e&&i(".header-right").remove()}function l(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i("article.post").each(function(){var n=i(this).find(e.join(","));n.each(function(){i(this).hasClass("embed-responsive-item")||(i(this).addClass("embed-responsive-item"),i(this).parent().hasClass("embed-responsive")||i(this).wrap('<div class="embed-responsive embed-responsive-16by9"></div>'))})})}function c(){0==i("#comments .comments-inner-wrap").children().length&&i("#comments").remove();var e=1;i(".footer-content").children().each(function(){0==i(this).children().length&&(i(this).remove(),e++),4==e&&i(".footer-content").remove()})}function d(){0===i(".pi-menulist").find(".submenu-toggle").length&&(i(".menu-item-has-children").children("a").after('<span class="submenu-toggle"><i class="fa fa-angle-right"></i></span>'),i(".pi-menulist").on("click",".submenu-toggle",function(e){e.preventDefault(),i(this).siblings(".sub-menu").addClass("sub-menu-active")}))}function g(){i(".pi-menulist .sub-menu").each(function(){var e=i(this);0===e.find(".back-mb").length&&e.prepend('<li class="back-mb"><a href="#">Back</a></li>'),i(".pi-menulist").on("click",".back-mb a",function(e){e.preventDefault(),i(this).parent().parent().removeClass("sub-menu-active")})})}function m(){i(".toggle-menu").on("click",function(){i(this).toggleClass("toggle-active"),i(".pi-navigation").toggleClass("pi-navigation-active")}),i(window).resize(function(){var e=window.innerWidth;991>=e?(d(),g()):i(".submenu-toggle, .back-mb").remove()}).trigger("resize")}function u(){i("img.lazy").lazyload({effect:"fadeIn"})}function p(){if(i(".page-template .no-sidebar .category-page-title").length){var e=i(".page-template .no-sidebar .category-page-title").clone();i(".page-template .no-sidebar .pi-content").length&&(i(".page-template .no-sidebar .category-page-title").remove(),i(".page-template .no-sidebar .pi-content").prepend(e))}}var f={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return f.Android()||f.BlackBerry()||f.iOS()||f.Opera()||f.Windows()}};i.fn.imageCover=function(){i(this).each(function(){var e=i(this),n=e.find("img"),t=e.outerHeight(),a=(n.outerWidth(),n.outerHeight());t>a&&n.css({height:"100%",width:"auto"})})},i.fn.numberLine=function(e){i(this).each(function(){function n(){var i=parseInt(t.css("font-size")),e=parseInt(t.css("line-height")),n=i*(e/i)*s.numberLine;t.css({display:"block","max-height":n,overflow:"hidden"})}var t=i(this),a={numberLine:0},r=t.data(),o=i.extend(a,e),s=i.extend(o,r);return s.numberLine?(t.bind("customResize",function(i){i.stopPropagation(),n()}).trigger("customResize"),void i(window).resize(function(){t.trigger("customResize")})):!1})},i(document).ready(function(){i(".pi-grid").find(".pi-content").wrapInner('<div class="pi-row"></div>'),i(".pi-grid").find(".post").wrap('<div class="pi-grid-item"></div>'),i(".pi-sidebar").length&&(i(".main-content").hasClass("pi-grid-first-large")?i(".pi-grid").find(".pi-grid-item:nth-child(2n)").css("clear","both"):i(".pi-grid").find(".pi-grid-item:nth-child(2n+1)").css("clear","both")),t(),s(),n(),p(),m(),i("[data-number-line]").numberLine(),i(".pi-grid .post-entry p").numberLine({numberLine:4}),i(".pi-list .post-entry p").numberLine({numberLine:3}),f.iOS()&&i("[data-background-image]").addClass("fix-background-ios"),l(),c(),f.any()&&i(".tiled-gallery").addClass("tiled-gallery-mobile"),a(),o(),r()}),i(window).load(function(){e(),i(".preloader").fadeOut(1200),i(".image-cover, .images-slider .item, .pi-grid .pi-content .images, .pi-list .pi-content .images, .post-link ~ .images").imageCover()});var h=i(".category-page-title"),v="";1==h.length&&(v=h.clone(),h.remove()),i(window).resize(function(){0==i(".pi-sidebar").length&&(window.innerWidth>=1230?i(".main-content").hasClass("pi-grid-first-large")?(i(".pi-grid").find(".pi-grid-item:nth-child(3n+2)").css("clear","both"),i(".pi-grid").find(".pi-grid-item:nth-child(2n)").css("clear","none")):(i(".pi-grid").find(".pi-grid-item:nth-child(3n+1)").css("clear","both"),i(".pi-grid").find(".pi-grid-item:nth-child(2n+1)").css("clear","none")):i(".main-content").hasClass("pi-grid-first-large")?(i(".pi-grid").find(".pi-grid-item:nth-child(2n)").css("clear","both"),i(".pi-grid").find(".pi-grid-item:nth-child(3n+2)").css("clear","none")):(i(".pi-grid").find(".pi-grid-item:nth-child(2n+1)").css("clear","both"),i(".pi-grid").find(".pi-grid-item:nth-child(3n+1)").css("clear","none")),0==i(".category-page-title").length&&i(".main-content .pi-row").prepend(v))}).trigger("resize"),u()}(jQuery);